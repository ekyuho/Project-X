
{"type":"level","id":"1","description":"수도계량기의 숫자 표시부를 읽어서 실시간 모니터링 하는 사물인터넷 스타트업을 위한 프로젝트","skill-required":"python","skill-acquired":["opencv","python web framework", "numpy ndarray"}

## 과제목표
IoT 전문회사인 MeasureWare사의 기반서비스는 현장에 설치되어 사용중인 Legacy 계량기(통신기능등 부재)의 미터값을 실시간으로 읽어서 디지탈화하여 디지탈트윈 형태로 형상화 하는 것을 기반으로 실시간 감시, 실시간 액튜에이션, 리스크 관리 등 다양한 고객맞춤형 서비스를 제공하는 회사이다. 이 회사의 기술인력 채용공고이며, 아래 리스팅된 기술역량의 한가지 사례를 본 과제를 통해 확보할 수 있다.

* github 사용에 능하고 open source 활용가능
* 파이썬 중급이상 (TensorFlow 유경험)
* OpenCV등 이미지를 처리 경험
* 머신러닝을 이용하여 다양한 아날로그 계량기의 숫자를 인식하는 종합 머신러닝 시스템을 개발할 수 있는 기술역량 보유
* node.js, Python 기반 Web 서버활용 및 클라우드기반 응용시스템 개발가능

![수도계량기](./water_meter_digitaltwin.jpg)

## 배경
머신러닝(인공지능)은 축적된 데이타의 분석으로부터 시작되기때문에 풀고자 하는 대상으로부터 관측된 디지탈화된 원천데이타가 필요하다. 
첨단 원격검침 기능을 가진 첨단 계량기들이 있지만, 이미 현실세계에는 수많은 아날로그 계량기들이 설치되어있어서 필요시 사람이 현장에서 상태를 알 수 있도로 한다. 
대부분의 아날로그 계량기들이 필요시 확인만 하면 되는 목적이겠지만, 어떤 계량기들은 단위시간당 변화량을 계속 점검할 필요가 있거나,
현장의 여러 목적으로 설치된 계량기들의 값을 종합적으로 보고 상태를 진단할 목적,
혹은 사람이 직접 해당 장소를 방문하여 주기적으로 현장의 계량기 미터값을 기록하기 어려운 문제 등
여러 이유와 요구에 따라 바늘형, 혹은 숫자형 레거니 아날로그 계량기의 값을 머신러닝 기법을 이용하여
자동으로 인식하여 수집하는 시스템이 기술적가치, 사업적 가치를 가질 수 있다.

시스템은 크게 3부분으로 구성된다. 기존의 아날로그 계량기 어떤 것이든 해당이 되지만,
여기서는 우리 주변에서 흔히 찾아볼 수 있는 '수도계량기'를 대상으로 한다. 수도계량기는 수도 사용량 측정용이지만
오래된 아파트의 적산열량계에도 사용되어 소정의 계산규칙을 적용하여 '사용열량' 으로 환산해서 사용할 수도 있다.

### 계량기 표시부 이미지 생성부
우리 주변에서 흔히 볼 수 있는 물흐름을 계량하는 수도계량기의 숫자 표시부 앞에 Night Vision이 가능한 카메라 기구를 설치하여
낮밤 구분없이 일정주기로 미터의 이미지를 획득하고 이를 웹주소를 통해 가져갈 수 있도록 구성한다.

이부분이 또다른 기술요소를 포함하는 작업이고, 대상의 선정, 카메라의 설치등 머신러닝과는 다른 많은 작업들이 수반되는 것이라
'사업화'를 위해서는 가장 중요한 대목이 되는 부분이지만, 여기서는 단순히 아래의 링크를 활용해도 2단계 작업이 가능하다.

* 수도계량기 이미지획득: http://bit.ly/websensor1 (좌측의 링크가 정상작동한다면, 이는 1시간 주기 실시간 어떤 아파트의 열량측정용 수도계량기의 이미지이다)

위 링크는 겨울철 난방열량 사용측정을 목적으로 하여, 1시간 간격으로 미터 이미지를 취득한다.





* 수도계량기 디지탈트윈: http://bit.ly/webmeter1

## 보유하고 있어야 할 badge (기술요소)
* Python

## 획득 Badge (기술요소)
* OpenCV
* Python Web Framework (Flask 혹은 django Web Framework)
* Tensorflow 패션 MNIST 수준의 머신러닝 프로그램
* Numpy array shape
* Numpy ndarray 
 
## List of Missions
* Mission 1: 모니터링 대상 계량기의 미터 이미지 획득단계 구현
  * 단독으로 작동하는 ESP32 Cam, Raspberry Pi에 USB웹캠을 연결하는 등 여러 옵션들에 대해 검토하고 최선의 방법을 찾는다. 
  * 혹은, http://bit.ly/websensor1 을 이용해서, 이미지 취득 부분을 스킵하고 먼저 머신러닝부터 시작하는 옵션을 고려한다.
  
* Mission 2: 대상 계량기의 숫자부분 이미지 추출
  * 숫자가 표시되는 계량기의 숫자표시부의 image로부터 인식하고자하는  숫자부분의 이미지를 추출한다.
  
* Mission 3: 문자인식을 위해 Google, Azure등의 API 사용
  * 무료 혹은 유료 API를 사용하여 숫자를 인식한다.
  
* Mission 4: 수도계량기 숫자인식 머신러닝을 위한 데이타 가공
  * 수도계량기 이미지화일을 다운로드 받기: https://drive.google.com/file/d/1EihUQdxjdJ6RfFpuV8ay4ZoeQ8_MLDJx/view?usp=sharing 

* Mission 5: 수도계량기 숫자인식 머신러닝 프로그램 만들기
  * 유사한 문제 해결을 위한 머신러닝 프로그램을 찾아 기반으로 삼는다.

* Mission 6: 인식된 수도계량기 값의 Delivery
  * 계량기 이미지에 인식된 숫자값을 overlay시켜서 표현하는 digital twin 웹미터기를 구현한다.
  * 사용자의 스마트폰에 push형태로 전달되는 alarm 기능을 구현한다.

* Mission 7: 플랫폼 형태로의 아키텍팅 
  * 실시간 감시, 실시간 자동제어 등의 기능확장에 용이한 아키텍처를 구성한다.

## 참고할 만한 자료 검색을 위한 키워드
python, ESP32 cam, web cam night vision, mnist, fashion mnist, opencv, numpy shape, numpy ndarray, slack web hookup, python flask, python django
